@import "./styles/universal-theme-system.css";
@import "./styles/ui-tokens.css";
@import "./styles/readability-system.css";
@import "./styles/dashboard-layout.css";
@import "./styles/green-theme-fixes.css";
@import "./styles/professional-ui-standards.css";
@import "./styles/positivity-theme-system.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Kawaii Office Design System - All colors, gradients, fonts, etc defined here */

@layer base {
  :root {
    /* SEMANTIC TEXT SYSTEM - WCAG AA Compliant */
    /* These variables ensure proper contrast ratios across all themes */
    --text-primary: 220 13% 18%;        /* Primary text - highest contrast */
    --text-secondary: 220 9% 46%;       /* Secondary text - medium contrast */
    --text-tertiary: 220 9% 65%;        /* Tertiary text - lower contrast */
    --text-inverse: 0 0% 98%;            /* Text for dark backgrounds */
    --text-brand-contrast: 0 0% 100%;    /* Text on brand backgrounds */
    --text-accent-contrast: 160 30% 25%; /* Text on accent backgrounds */
    
    /* BACKGROUND SEMANTIC SYSTEM */
    --bg-primary: 0 0% 100%;             /* Main backgrounds */
    --bg-secondary: 220 14% 96%;         /* Card/section backgrounds */
    --bg-tertiary: 220 13% 91%;          /* Subtle backgrounds */
    --bg-interactive: 220 14% 98%;       /* Hover states */
    
    /* HIGH CONTRAST PAIRS - Guaranteed readability */
    --text-on-primary: var(--text-primary);
    --text-on-secondary: var(--text-primary);
    --text-on-brand: var(--text-brand-contrast);
    --text-on-accent: var(--text-accent-contrast);
    --text-on-dark: var(--text-inverse);

    /* Theme System Variables - Can be overridden by user preferences */
    --bg-start: 0 0% 100%;           /* pure white */
    --bg-end: 210 20% 98%;           /* very light gray */
    --brand: 220 13% 60%;            /* neutral gray accent */
    --brand-fg: var(--text-brand-contrast); /* Use semantic text */
    --accent: 150 60% 65%;           /* mint accent */
    --accent-fg: var(--text-accent-contrast); /* Use semantic text */
    --card: var(--bg-primary);       /* Use semantic background */
    --text: var(--text-primary);     /* Use semantic text */
    --muted: var(--text-secondary);  /* Use semantic text */
    --ring: 340 75% 85%;             /* focus ring */

    /* Kawaii Color Palette - Now using semantic variables */
    --background: var(--bg-primary);
    --foreground: var(--text-primary);
    --card-foreground: var(--text-primary);

    --popover: var(--bg-primary);
    --popover-foreground: var(--text-primary);

    /* Neutral Primary Colors - with proper contrast */
    --primary: 220 13% 60%;
    --primary-foreground: var(--text-brand-contrast);
    --primary-glow: 220 13% 70%;

    /* Mint Secondary - with proper contrast */
    --secondary: 150 60% 85%;
    --secondary-foreground: var(--text-accent-contrast);

    /* Lavender Muted - with proper contrast */
    --muted: var(--bg-secondary);
    --muted-foreground: var(--text-secondary);

    /* Peach Accent - with proper contrast */
    --accent: 25 85% 85%;
    --accent-foreground: var(--text-accent-contrast);

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: var(--text-inverse);

    --border: 220 13% 90%;
    --input: 220 13% 95%;
    --ring: 220 13% 75%;

    --radius: 1rem;

    /* Kawaii Gradients - Now using theme variables with proper contrast */
    --gradient-kawaii: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--primary-glow)));
    --gradient-kawaii-light: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--primary-glow)));
    --gradient-primary: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--primary-glow)));
    --gradient-background: linear-gradient(135deg, hsl(var(--bg-start)) 0%, hsl(var(--bg-end)) 100%);
    --gradient-card: linear-gradient(145deg, hsl(var(--bg-primary)) 0%, hsl(var(--bg-primary)) 100%);
    --gradient-mint: linear-gradient(135deg, hsl(var(--secondary)), hsl(var(--secondary-foreground)));
    --gradient-peach: linear-gradient(135deg, hsl(var(--accent)), hsl(var(--accent-foreground)));

    /* Kawaii Shadows */
    --shadow-soft: 0 4px 20px -4px hsl(var(--primary) / 0.25);
    --shadow-glow: 0 0 30px hsl(var(--primary-glow) / 0.4);
    --shadow-cute: 0 8px 25px -8px hsl(340 50% 80% / 0.3);

    /* Kawaii Animations */
    --transition-bounce: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

    /* Production Layout System - CSS Custom Properties */
    --layout-spacing-xs: 0.25rem;  /* 4px */
    --layout-spacing-sm: 0.5rem;   /* 8px */
    --layout-spacing-md: 1rem;     /* 16px */
    --layout-spacing-lg: 1.5rem;   /* 24px */
    --layout-spacing-xl: 2rem;     /* 32px */
    --layout-spacing-2xl: 3rem;    /* 48px */
    --layout-spacing-3xl: 4rem;    /* 64px */

    /* Grid gaps */
    --layout-gap-xs: 0.5rem;
    --layout-gap-sm: 1rem;
    --layout-gap-md: 1.5rem;
    --layout-gap-lg: 2rem;

    /* Component heights */
    --layout-height-header: 64px;
    --layout-height-card-min: 200px;
    --layout-height-card-standard: 300px;
    --layout-height-card-large: 400px;
    --layout-height-hero: 500px;

    /* Container max widths */
    --layout-max-width-content: 1200px;
    --layout-max-width-dashboard: 1400px;

    /* Z-index scale */
    --layout-z-dropdown: 1000;
    --layout-z-sticky: 1020;
    --layout-z-fixed: 1030;
    --layout-z-modal-backdrop: 1040;
    --layout-z-modal: 1050;
    --layout-z-popover: 1060;
    --layout-z-tooltip: 1070;
    --layout-z-toast: 1080;

    /* TIMER THEME SYSTEM - Component-specific theme variables */
    /* Timer progress colors based on phase */
    --timer-progress-bg: hsl(var(--muted) / 0.3);
    --timer-progress-track: hsl(var(--border));
    
    --timer-focus-fill: var(--brand);        /* Use theme brand color for focus */
    --timer-focus-bg: hsl(var(--brand) / 0.1);          /* Light brand background */
    --timer-focus-glow: hsl(var(--brand) / 0.6);        /* Brand glow */
    
    --timer-short-fill: var(--accent);        /* Use theme accent for short break */
    --timer-short-bg: hsl(var(--accent) / 0.1);          /* Light accent background */
    --timer-short-glow: hsl(var(--accent) / 0.6);        /* Accent glow */
    
    --timer-long-fill: var(--secondary);         /* Use secondary for long break */
    --timer-long-bg: hsl(var(--secondary) / 0.1);           /* Light secondary background */
    --timer-long-glow: hsl(var(--secondary) / 0.6);         /* Secondary glow */
    
    --timer-idle-fill: hsl(var(--muted-foreground));
    --timer-idle-bg: hsl(var(--muted));
    
    /* Timer text and UI colors */
    --timer-text-primary: hsl(var(--text-primary));
    --timer-text-secondary: hsl(var(--text-secondary));
    --timer-button-bg: hsl(var(--primary));
    --timer-button-text: hsl(var(--primary-foreground));
    --timer-button-outline: hsl(var(--border));
    
    /* Timer card backgrounds */
    --timer-card-bg: hsl(var(--card));
    --timer-card-border: hsl(var(--border));
    --timer-header-shadow: 0 4px 12px -4px;

    /* POSITIVITY CORNER THEME SYSTEM - Adaptive to all themes */
    --positivity-bg-primary: hsl(var(--primary) / 0.1);        /* Light primary wash */
    --positivity-bg-secondary: hsl(var(--accent) / 0.08);      /* Light accent wash */
    --positivity-bg-tertiary: hsl(var(--secondary) / 0.08);   /* Light secondary wash */
    --positivity-card-bg: hsl(var(--card) / 0.95);            /* Semi-transparent card */
    --positivity-card-border: hsl(var(--primary) / 0.3);      /* Primary border */
    --positivity-text-primary: hsl(var(--foreground));        /* Theme text */
    --positivity-text-secondary: hsl(var(--muted-foreground)); /* Muted text */
    --positivity-accent-bright: hsl(var(--primary));          /* Bright accent */
    --positivity-accent-soft: hsl(var(--primary) / 0.7);      /* Soft accent */
    --positivity-shadow: 0 8px 30px -8px hsl(var(--primary) / 0.3); /* Theme shadow */

    --sidebar-background: var(--bg-secondary);
    --sidebar-foreground: var(--text-primary);
    --sidebar-primary: var(--text-primary);
    --sidebar-primary-foreground: var(--bg-primary);
    --sidebar-accent: var(--bg-tertiary);
    --sidebar-accent-foreground: var(--text-primary);
    --sidebar-border: var(--border);
    --sidebar-ring: var(--ring);
  }

  /* DARK THEME - Midnight Mode with Perfect Readability */
  .dark {
    /* SEMANTIC TEXT SYSTEM - Dark Mode */
    --text-primary: 210 40% 98%;         /* Primary text - white for dark */
    --text-secondary: 215 20% 75%;       /* Secondary text - light gray */
    --text-tertiary: 215 16% 65%;        /* Tertiary text - medium gray */
    --text-inverse: 220 13% 18%;         /* Text for light backgrounds */
    --text-brand-contrast: 210 40% 98%;  /* White text on brand */
    --text-accent-contrast: 210 40% 98%; /* White text on accent */
    
    /* BACKGROUND SEMANTIC SYSTEM - Dark Mode */
    --bg-primary: 222 84% 5%;            /* Main dark background */
    --bg-secondary: 217 33% 17%;         /* Card backgrounds */
    --bg-tertiary: 217 33% 22%;          /* Subtle backgrounds */
    --bg-interactive: 217 33% 25%;       /* Hover states */

    /* Core shadcn variables for dark theme */
    --background: var(--bg-primary);
    --foreground: var(--text-primary);
    --card: var(--bg-secondary);
    --card-foreground: var(--text-primary);
    --popover: var(--bg-secondary);
    --popover-foreground: var(--text-primary);
    --primary: 210 40% 98%;
    --primary-foreground: var(--text-inverse);
    --secondary: var(--bg-tertiary);
    --secondary-foreground: var(--text-primary);
    --muted: var(--bg-tertiary);
    --muted-foreground: var(--text-secondary);
    --accent: var(--bg-tertiary);
    --accent-foreground: var(--text-primary);
    --destructive: 0 63% 31%;
    --destructive-foreground: var(--text-primary);
    --border: var(--bg-tertiary);
    --input: var(--bg-tertiary);
    --ring: 212 27% 84%;
    
    /* Dark theme gradients */
    --gradient-primary: linear-gradient(135deg, hsl(var(--primary)), hsl(212 27% 84%));
    --gradient-background: linear-gradient(135deg, hsl(var(--bg-primary)) 0%, hsl(var(--bg-secondary)) 100%);
    --gradient-card: linear-gradient(145deg, hsl(var(--bg-secondary)) 0%, hsl(var(--bg-tertiary)) 100%);

    /* Sidebar dark theme */
    --sidebar-background: var(--bg-primary);
    --sidebar-foreground: var(--text-secondary);
    --sidebar-primary: 224 76% 48%;
    --sidebar-primary-foreground: var(--text-primary);
    --sidebar-accent: var(--bg-tertiary);
    --sidebar-accent-foreground: var(--text-secondary);
    --sidebar-border: var(--bg-tertiary);
    --sidebar-ring: 217 91% 60%;

    /* DARK THEME - Timer colors for midnight mode */
    /* Timer progress colors - theme-aware for dark mode */
    --timer-focus-fill: var(--brand);        /* Use theme brand color */
    --timer-focus-bg: hsl(var(--brand) / 0.15);          /* Dark theme brand background */
    --timer-focus-glow: hsl(var(--brand) / 0.8);        /* Enhanced brand glow for dark */
    
    --timer-short-fill: var(--accent);        /* Use theme accent */
    --timer-short-bg: hsl(var(--accent) / 0.15);          /* Dark theme accent background */
    --timer-short-glow: hsl(var(--accent) / 0.8);        /* Enhanced accent glow */
    
    --timer-long-fill: var(--secondary);         /* Use theme secondary */
    --timer-long-bg: hsl(var(--secondary) / 0.15);           /* Dark theme secondary background */
    --timer-long-glow: hsl(var(--secondary) / 0.8);         /* Enhanced secondary glow */
    
    /* Enhanced visibility in dark mode */
    --timer-progress-bg: hsl(var(--muted) / 0.4);
    --timer-progress-track: hsl(var(--border) / 0.6);
    
    /* Dark mode button adjustments */
    --timer-button-outline: hsl(var(--border) / 0.7);

    /* POSITIVITY CORNER - Dark Theme Adaptations */
    --positivity-bg-primary: hsl(var(--primary) / 0.15);      /* Enhanced primary for dark */
    --positivity-bg-secondary: hsl(var(--accent) / 0.12);     /* Enhanced accent for dark */
    --positivity-bg-tertiary: hsl(var(--secondary) / 0.12);   /* Enhanced secondary for dark */
    --positivity-card-bg: hsl(var(--card) / 0.9);             /* Less transparent in dark */
    --positivity-card-border: hsl(var(--primary) / 0.4);      /* Brighter border for dark */
    --positivity-shadow: 0 8px 30px -8px hsl(var(--primary) / 0.4); /* Enhanced shadow */
  }
}

  /* GREEN THEME - Nature Mode with Perfect Readability */
  [data-theme="green"], .theme-green {
    /* SEMANTIC TEXT SYSTEM - Green Theme with High Contrast */
    --text-primary: 0 0% 98%;                /* White text for maximum contrast */
    --text-secondary: 0 0% 85%;              /* Light gray text */
    --text-tertiary: 0 0% 75%;               /* Medium gray text */
    --text-inverse: 150 80% 20%;             /* Dark green for light backgrounds */
    --text-brand-contrast: 0 0% 100%;        /* Pure white on brand/green */
    --text-accent-contrast: 0 0% 100%;       /* Pure white on accent */
    
    /* BACKGROUND SEMANTIC SYSTEM - Green Theme */
    --bg-primary: 150 60% 25%;               /* Deep forest green background */
    --bg-secondary: 150 50% 30%;             /* Lighter forest green for cards */
    --bg-tertiary: 150 40% 35%;              /* Medium green for subtle backgrounds */
    --bg-interactive: 150 30% 40%;           /* Lighter green for hover states */

    /* Core shadcn variables for green theme with GUARANTEED contrast */
    --background: var(--bg-primary);
    --foreground: var(--text-primary);
    --card: var(--bg-secondary);
    --card-foreground: var(--text-primary);
    --popover: var(--bg-secondary);
    --popover-foreground: var(--text-primary);
    --primary: 150 80% 45%;                  /* Bright green primary */
    --primary-foreground: var(--text-brand-contrast);
    --secondary: var(--bg-tertiary);
    --secondary-foreground: var(--text-primary);
    --muted: var(--bg-tertiary);
    --muted-foreground: var(--text-secondary);
    --accent: 120 100% 40%;                  /* Vibrant lime accent */
    --accent-foreground: var(--text-accent-contrast);
    --destructive: 0 63% 45%;
    --destructive-foreground: var(--text-primary);
    --border: var(--bg-interactive);
    --input: var(--bg-interactive);
    --ring: 150 80% 60%;
    
    /* Green theme gradients */
    --gradient-primary: linear-gradient(135deg, hsl(var(--primary)), hsl(120 100% 50%));
    --gradient-background: linear-gradient(135deg, hsl(var(--bg-primary)) 0%, hsl(var(--bg-secondary)) 100%);
    --gradient-card: linear-gradient(145deg, hsl(var(--bg-secondary)) 0%, hsl(var(--bg-tertiary)) 100%);
    --gradient-mint: linear-gradient(135deg, hsl(120 100% 40%), hsl(150 80% 45%));

    /* Sidebar green theme */
    --sidebar-background: var(--bg-primary);
    --sidebar-foreground: var(--text-secondary);
    --sidebar-primary: 150 80% 50%;
    --sidebar-primary-foreground: var(--text-brand-contrast);
    --sidebar-accent: var(--bg-tertiary);
    --sidebar-accent-foreground: var(--text-primary);
    --sidebar-border: var(--bg-tertiary);
    --sidebar-ring: 150 80% 60%;

    /* POSITIVITY CORNER - Green Theme Adaptations */
    --positivity-bg-primary: hsl(150 60% 40% / 0.2);          /* Green primary wash */
    --positivity-bg-secondary: hsl(120 100% 35% / 0.15);      /* Lime accent wash */
    --positivity-bg-tertiary: hsl(150 40% 45% / 0.15);        /* Forest secondary wash */
    --positivity-card-bg: hsl(var(--card) / 0.85);            /* Card with green tint */
    --positivity-card-border: hsl(150 80% 60% / 0.5);         /* Bright green border */
    --positivity-accent-bright: hsl(120 100% 50%);            /* Vibrant lime */
    --positivity-accent-soft: hsl(150 80% 60%);               /* Soft green */
    --positivity-shadow: 0 8px 30px -8px hsl(150 80% 45% / 0.4); /* Green shadow */

    /* GREEN THEME - Timer colors for nature mode */
    --timer-focus-fill: hsl(150 80% 50%);         /* Bright green for focus */
    --timer-focus-bg: hsl(150 80% 20% / 0.15);    /* Dark green background */
    --timer-focus-glow: hsl(150 80% 50% / 0.8);   /* Enhanced green glow */
    
    --timer-short-fill: hsl(120 100% 45%);        /* Lime green for short break */
    --timer-short-bg: hsl(120 100% 20% / 0.15);   /* Dark lime background */
    --timer-short-glow: hsl(120 100% 45% / 0.8);  /* Enhanced lime glow */
    
    --timer-long-fill: hsl(180 80% 40%);          /* Teal for long break */
    --timer-long-bg: hsl(180 80% 20% / 0.15);     /* Dark teal background */
    --timer-long-glow: hsl(180 80% 40% / 0.8);    /* Enhanced teal glow */
    
    /* Enhanced visibility in green mode */
    --timer-progress-bg: hsl(var(--bg-tertiary) / 0.4);
    --timer-progress-track: hsl(var(--border) / 0.6);
    
    /* Green mode button adjustments with high contrast */
    --timer-button-outline: hsl(var(--text-primary) / 0.3);
    --timer-text-primary: hsl(var(--text-primary));
    --timer-text-secondary: hsl(var(--text-secondary));
    --timer-button-bg: hsl(var(--primary));
    --timer-button-text: hsl(var(--text-brand-contrast));
  }

@layer base {
  * {
    @apply border-border;
  }

  /* SEMANTIC TEXT CLASSES - Use these instead of hardcoded colors */
  .text-primary { color: hsl(var(--text-primary)); }     /* Highest contrast */
  .text-secondary { color: hsl(var(--text-secondary)); } /* Medium contrast */
  .text-tertiary { color: hsl(var(--text-tertiary)); }   /* Lower contrast */
  .text-inverse { color: hsl(var(--text-inverse)); }     /* For dark backgrounds */
  .text-on-brand { color: hsl(var(--text-brand-contrast)); } /* For brand backgrounds */
  .text-on-accent { color: hsl(var(--text-accent-contrast)); } /* For accent backgrounds */

  /* SEMANTIC BACKGROUND CLASSES */
  .bg-primary { background-color: hsl(var(--bg-primary)); }
  .bg-secondary { background-color: hsl(var(--bg-secondary)); }
  .bg-tertiary { background-color: hsl(var(--bg-tertiary)); }
  .bg-interactive { background-color: hsl(var(--bg-interactive)); }

  /* HIGH CONTRAST UTILITY CLASSES - Guaranteed readability */
  .text-contrast-high { 
    color: hsl(var(--text-primary)); 
    font-weight: 600; 
  }
  .text-brand-readable { 
    color: hsl(var(--text-brand-contrast)); 
    text-shadow: 0 1px 2px rgba(0,0,0,0.1); 
  }
  .text-accent-readable { 
    color: hsl(var(--text-accent-contrast)); 
    font-weight: 500; 
  }

  /* Global text colors driven by semantic vars */
  body { 
    color: hsl(var(--text-primary)); 
    background-color: hsl(var(--bg-primary));
  }

  /* Buttons with guaranteed contrast */
  .btn { 
    @apply inline-flex items-center justify-center rounded-xl px-3 py-2 text-sm font-medium shadow-sm transition;
    outline: none;
    /* Ensure minimum contrast ratio */
    color: hsl(var(--text-primary));
  }
  .btn:focus { box-shadow: 0 0 0 3px color-mix(in srgb, hsl(var(--ring)) 50%, transparent); }

  /* Primary (brand) button with perfect contrast */
  .btn-primary {
    background: hsl(var(--brand));
    color: hsl(var(--text-brand-contrast));
    font-weight: 600; /* Ensure readability */
  }
  .btn-primary:hover { filter: brightness(0.95); }
  .btn-primary:active { filter: brightness(0.9); }

  /* Secondary (accent) button with perfect contrast */
  .btn-secondary {
    background: color-mix(in srgb, hsl(var(--accent)) 14%, hsl(var(--bg-primary)));
    color: hsl(var(--text-primary));
    border: 1px solid color-mix(in srgb, hsl(var(--accent)) 40%, transparent);
    font-weight: 500; /* Ensure readability */
  }
  .btn-secondary:hover { filter: saturate(1.05); }

  /* Legacy text utilities with improved contrast */
  .text-main  { color: hsl(var(--text-primary)); }
  .text-muted { color: hsl(var(--text-secondary)); }

  /* Theme utility classes with semantic colors */
  .body-gradient { 
    background: linear-gradient(180deg, hsl(var(--bg-start)), hsl(var(--bg-end))); 
  }
  .brand-bg     { background-color: hsl(var(--brand)); }
  .accent-bg    { background-color: hsl(var(--accent)); }
  .card-surface { background-color: hsl(var(--bg-primary)); }

  @keyframes shake {
    10%, 90% { transform: translateX(-1px); }
    20%, 80% { transform: translateX(2px); }
    30%, 50%, 70% { transform: translateX(-4px); }
    40%, 60% { transform: translateX(4px); }
  }

  .animate-shake {
    animation: shake 0.4s ease-in-out;
  }

  /* READABILITY ENFORCEMENT */
  body {
    @apply bg-background text-foreground;
    /* Ensure text is always readable */
    color: hsl(var(--text-primary));
  }

  /* CONTRAST VALIDATION HELPERS */
  /* Add these classes to elements to ensure proper contrast */
  .ensure-contrast {
    color: hsl(var(--text-primary));
    background-color: hsl(var(--bg-primary));
  }

  .ensure-contrast-inverse {
    color: hsl(var(--text-inverse));
    background-color: hsl(var(--text-primary));
  }

  /* UNIVERSAL READABILITY OVERRIDES - Bulletproof contrast for all themes */
  /* Force white text on any colored/dark backgrounds */
  .bg-primary *, .bg-secondary *, .bg-tertiary *, 
  .bg-accent *, .bg-brand *, .accent-bg *, .brand-bg *,
  [data-theme="green"] .bg-secondary *,
  [data-theme="green"] .bg-accent *,
  [data-theme="green"] .bg-primary * {
    color: hsl(var(--text-primary)) !important;
  }

  /* Force high contrast on navigation and menu elements */
  .TabsList *, .TabsTrigger *, nav *, .menu-item *,
  [role="tablist"] *, [role="tab"] *, [role="menuitem"] * {
    color: hsl(var(--text-primary)) !important;
    font-weight: 500 !important;
  }

  /* Ensure active/selected states are always readable */
  [data-state="active"], .active, .selected,
  [aria-selected="true"], [aria-current="page"] {
    color: hsl(var(--text-brand-contrast)) !important;
    background-color: hsl(var(--primary)) !important;
  }

  /* Green theme specific fixes */
  [data-theme="green"] {
    /* Force all text to be white for maximum readability */
    color: hsl(var(--text-primary)) !important;
  }

  [data-theme="green"] * {
    /* Ensure all child elements inherit readable colors */
    color: inherit !important;
  }

  /* DEVELOPER GUIDELINES - Comments for future developers */
  /*
   * READABILITY RULES:
   * 1. Always use semantic color variables (--text-primary, --text-secondary, etc.)
   * 2. Never use hardcoded colors like text-white, text-black, bg-white, bg-black
   * 3. Test all components in both light and dark themes
   * 4. Use .text-brand-readable for text on brand backgrounds
   * 5. Use .text-accent-readable for text on accent backgrounds
   * 6. Minimum contrast ratios: 4.5:1 for normal text, 3:1 for large text
   */

  /* Sidebar animations */
  .sidebar-hover-glow {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .sidebar-hover-glow:hover {
    box-shadow: 0 0 20px hsl(var(--primary) / 0.3);
  }

  /* Bounce animation for active items */
  @keyframes gentle-bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-2px); }
  }

  .animate-gentle-bounce {
    animation: gentle-bounce 0.6s ease-in-out;
  }

  /* Inspiration Corner media cap */
  .inspo-media {
    width: 100%;
    max-height: 420px;
    object-fit: cover;
    border-radius: 0.75rem;
    display: block;
  }

  /* Production Layout Utility Classes */
  .layout-container-content {
    max-width: var(--layout-max-width-content);
  }

  .layout-container-dashboard {
    max-width: var(--layout-max-width-dashboard);
  }

  .layout-spacing-xs { display: flex; flex-direction: column; gap: var(--layout-spacing-xs); }
  .layout-spacing-sm { display: flex; flex-direction: column; gap: var(--layout-spacing-sm); }
  .layout-spacing-md { display: flex; flex-direction: column; gap: var(--layout-spacing-md); }
  .layout-spacing-lg { display: flex; flex-direction: column; gap: var(--layout-spacing-lg); }
  .layout-spacing-xl { display: flex; flex-direction: column; gap: var(--layout-spacing-xl); }

  .layout-grid-gap-xs { gap: var(--layout-gap-xs); }
  .layout-grid-gap-sm { gap: var(--layout-gap-sm); }
  .layout-grid-gap-md { gap: var(--layout-gap-md); }
  .layout-grid-gap-lg { gap: var(--layout-gap-lg); }

  .layout-height-card-min { min-height: var(--layout-height-card-min); }
  .layout-height-card-standard { min-height: var(--layout-height-card-standard); }
  .layout-height-card-large { min-height: var(--layout-height-card-large); }

  /* Standardized card classes */
  .card-standard {
    @apply bg-card/80 backdrop-blur-sm border-2 border-primary/20 shadow-xl rounded-2xl;
  }

  .card-elevated {
    @apply bg-card backdrop-blur-lg border border-border/20 shadow-2xl rounded-2xl;
  }

  .card-glass {
    @apply bg-card/60 backdrop-blur-lg border border-border/10 shadow-lg rounded-2xl;
  }

  .card-interactive {
    @apply card-standard hover:shadow-2xl hover:scale-[1.02] cursor-pointer transition-all duration-300;
  }

  /* TIMER COMPONENT CLASSES */
  /* Timer progress bar base */
  .timer-progress-bar {
    background-color: var(--timer-progress-bg);
    border: 1px solid var(--timer-progress-track);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  /* Phase-specific progress fills */
  .timer-progress-focus {
    background: linear-gradient(90deg, hsl(var(--timer-focus-fill)), hsl(var(--timer-focus-glow)));
    box-shadow: 0 0 12px hsl(var(--timer-focus-fill) / 0.5);
  }
  
  .timer-progress-short {
    background: linear-gradient(90deg, hsl(var(--timer-short-fill)), hsl(var(--timer-short-glow)));
    box-shadow: 0 0 12px hsl(var(--timer-short-fill) / 0.5);
  }
  
  .timer-progress-long {
    background: linear-gradient(90deg, hsl(var(--timer-long-fill)), hsl(var(--timer-long-glow)));
    box-shadow: 0 0 12px hsl(var(--timer-long-fill) / 0.5);
  }
  
  .timer-progress-idle {
    background: var(--timer-idle-fill);
    box-shadow: none;
  }
  
  /* Timer card headers with phase colors */
  .timer-header-focus {
    background: linear-gradient(135deg, hsl(var(--timer-focus-fill)), hsl(var(--timer-focus-glow)));
    color: hsl(var(--brand-fg));
    box-shadow: var(--timer-header-shadow) hsl(var(--timer-focus-fill) / 0.3);
  }
  
  .timer-header-short {
    background: linear-gradient(135deg, hsl(var(--timer-short-fill)), hsl(var(--timer-short-glow)));
    color: hsl(var(--accent-fg));
    box-shadow: var(--timer-header-shadow) hsl(var(--timer-short-fill) / 0.3);
  }
  
  .timer-header-long {
    background: linear-gradient(135deg, hsl(var(--timer-long-fill)), hsl(var(--timer-long-glow)));
    color: hsl(var(--secondary-foreground));
    box-shadow: var(--timer-header-shadow) hsl(var(--timer-long-fill) / 0.3);
  }
  
  .timer-header-idle {
    background: linear-gradient(135deg, var(--timer-idle-fill), var(--timer-idle-bg));
    color: hsl(var(--text-primary));
    box-shadow: var(--timer-header-shadow) var(--timer-idle-fill);
  }
  
  /* Timer text styles */
  .timer-display-text {
    color: var(--timer-text-primary);
    font-variant-numeric: tabular-nums;
  }
  
  .timer-label-text {
    color: var(--timer-text-secondary);
  }
  
  /* Theme-aware timer buttons */
  .timer-button-primary {
    background-color: var(--timer-button-bg);
    color: var(--timer-button-text);
    border: 1px solid transparent;
  }
  
  .timer-button-outline {
    background-color: transparent;
    color: var(--timer-text-primary);
    border: 1px solid var(--timer-button-outline);
  }
  
  .timer-button-outline:hover {
    background-color: var(--timer-progress-bg);
  }
}

/* Checkerboard background for transparent images */
.bg-checkerboard {
  background-image: 
    linear-gradient(45deg, #ccc 25%, transparent 25%), 
    linear-gradient(-45deg, #ccc 25%, transparent 25%), 
    linear-gradient(45deg, transparent 75%, #ccc 75%), 
    linear-gradient(-45deg, transparent 75%, #ccc 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
}

/* EMERGENCY PINK BACKGROUND OVERRIDE - Forces clean white backgrounds */
[class*="pink"]:not(.border):not(.text):not([class*="border-pink"]):not([class*="text-pink"]) {
  background-color: white !important;
  background: white !important;
}

/* Override specific pink gradient patterns */
.bg-gradient-to-br.from-pink-50,
.bg-gradient-to-br.to-pink-50,
.bg-gradient-to-r.from-pink-100,
.bg-gradient-to-r.to-pink-100,
.bg-gradient-to-r.from-pink-500,
.bg-gradient-to-r.to-pink-500 {
  background: white !important;
}

/* Force white backgrounds for common pink patterns */
.bg-pink-50, .bg-pink-100, .bg-pink-200, .bg-pink-400, .bg-pink-500 {
  background-color: white !important;
}

/* Override gradient combinations with pink */
[class*="from-purple"][class*="to-pink"],
[class*="from-pink"][class*="to-purple"],
[class*="from-orange"][class*="to-pink"],
[class*="from-pink"][class*="to-rose"] {
  background: linear-gradient(135deg, white, rgba(128, 128, 128, 0.05)) !important;
}